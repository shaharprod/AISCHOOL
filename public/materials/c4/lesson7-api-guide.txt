××“×¨×™×š API ××œ× - Gemini API
=============================

×©×™×¢×•×¨ 7: ×¢×‘×•×“×” ×¢× API
=======================

××” ×–×” Gemini API?
==================

Gemini API ×”×•× ×××©×§ ×ª×›× ×•×ª ×©×××¤×©×¨ ×œ×š ×œ×”×©×ª××© ×‘××•×“×œ×™ Gemini ××ª×•×š ×”××¤×œ×™×§×¦×™×” ×©×œ×š.

×™×ª×¨×•× ×•×ª:
â€¢ ×’×™×©×” ××ª×•×›× ×”
â€¢ ××™× ×˜×’×¨×¦×™×” ×§×œ×”
â€¢ ×©×œ×™×˜×” ××œ××”
â€¢ scalable

×§×‘×œ×ª API Key
=============

1. ×”×™×›× ×¡ ×œ-AI Studio
---------------------
https://aistudio.google.com

2. ×¦×•×¨ API Key
---------------
â€¢ Settings > API Keys
â€¢ Create API Key
â€¢ ×”×¢×ª×§ ××ª ×”××¤×ª×—

3. ×©××•×¨ ××ª ×”××¤×ª×—
------------------
âš ï¸ ××œ ×ª×—×©×•×£ ××ª ×”××¤×ª×—!
â€¢ ×©××•×¨ ×‘-environment variables
â€¢ ××œ ×ª×¢×œ×” ×œ-Git
â€¢ ×”×©×ª××© ×‘-secrets management

×“×•×’××”:
```python
import os
api_key = os.getenv("GEMINI_API_KEY")
```

×©×™××•×© ×‘×¡×™×¡×™
============

Python:
```python
import google.generativeai as genai

# ×”×’×“×¨×ª API Key
genai.configure(api_key="YOUR_API_KEY")

# ×™×¦×™×¨×ª ××•×“×œ
model = genai.GenerativeModel("gemini-1.5-flash")

# ×™×¦×™×¨×ª ×ª×•×›×Ÿ
response = model.generate_content("××” ×–×” AI?")

# ×”×“×¤×¡×ª ×ª×©×•×‘×”
print(response.text)
```

JavaScript:
```javascript
const { GoogleGenerativeAI } = require("@google/generative-ai");

const genAI = new GoogleGenerativeAI("YOUR_API_KEY");
const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

const result = await model.generateContent("××” ×–×” AI?");
console.log(result.response.text());
```

cURL:
```bash
curl -X POST \
  'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "contents": [{
      "parts": [{"text": "××” ×–×” AI?"}]
    }]
  }'
```

×¢×‘×•×“×” ×¢× System Instructions
==============================

Python:
```python
model = genai.GenerativeModel(
    model_name="gemini-1.5-flash",
    system_instruction="××ª×” ×¢×•×–×¨ AI ×× ×•×¡×”. ×ª××™×“ ×ª×Ÿ ×ª×©×•×‘×•×ª ××¤×•×¨×˜×•×ª."
)

response = model.generate_content("×”×¡×‘×¨ ××” ×–×” Python")
print(response.text)
```

JavaScript:
```javascript
const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "××ª×” ×¢×•×–×¨ AI ×× ×•×¡×”. ×ª××™×“ ×ª×Ÿ ×ª×©×•×‘×•×ª ××¤×•×¨×˜×•×ª."
});

const result = await model.generateContent("×”×¡×‘×¨ ××” ×–×” Python");
console.log(result.response.text());
```

×¢×‘×•×“×” ×¢× Configuration
========================

Python:
```python
model = genai.GenerativeModel(
    model_name="gemini-1.5-flash",
    generation_config={
        "temperature": 0.7,
        "top_p": 0.95,
        "top_k": 40,
        "max_output_tokens": 2000
    }
)

response = model.generate_content("×›×ª×•×‘ ×¡×™×¤×•×¨")
print(response.text)
```

JavaScript:
```javascript
const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    generationConfig: {
        temperature: 0.7,
        topP: 0.95,
        topK: 40,
        maxOutputTokens: 2000
    }
});

const result = await model.generateContent("×›×ª×•×‘ ×¡×™×¤×•×¨");
console.log(result.response.text());
```

×¢×‘×•×“×” ×¢× ×ª××•× ×•×ª
=================

Python:
```python
import PIL.Image

# ×˜×¢×™× ×ª ×ª××•× ×”
img = PIL.Image.open("image.jpg")

# ×™×¦×™×¨×ª ×ª×•×›×Ÿ ×¢× ×ª××•× ×”
model = genai.GenerativeModel("gemini-1.5-pro-vision")
response = model.generate_content(["×ª××¨ ××ª ×”×ª××•× ×”", img])

print(response.text)
```

JavaScript:
```javascript
const fs = require("fs");

const imageData = fs.readFileSync("image.jpg");
const imagePart = {
    inlineData: {
        data: imageData.toString("base64"),
        mimeType: "image/jpeg"
    }
};

const model = genAI.getGenerativeModel({ model: "gemini-1.5-pro-vision" });
const result = await model.generateContent([
    "×ª××¨ ××ª ×”×ª××•× ×”",
    imagePart
]);

console.log(result.response.text());
```

×¢×‘×•×“×” ×¢× JSON Mode
===================

Python:
```python
model = genai.GenerativeModel(
    model_name="gemini-1.5-flash",
    generation_config={
        "response_mime_type": "application/json",
        "response_schema": {
            "type": "object",
            "properties": {
                "name": {"type": "string"},
                "age": {"type": "number"}
            },
            "required": ["name", "age"]
        }
    }
)

response = model.generate_content("×¦×•×¨ ×¤×¨×•×¤×™×œ ××©×ª××©")
data = json.loads(response.text)
print(data)
```

JavaScript:
```javascript
const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    generationConfig: {
        responseMimeType: "application/json",
        responseSchema: {
            type: "object",
            properties: {
                name: { type: "string" },
                age: { type: "number" }
            },
            required: ["name", "age"]
        }
    }
});

const result = await model.generateContent("×¦×•×¨ ×¤×¨×•×¤×™×œ ××©×ª××©");
const data = JSON.parse(result.response.text());
console.log(data);
```

×¢×‘×•×“×” ×¢× Chat (×©×™×—×”)
======================

Python:
```python
model = genai.GenerativeModel("gemini-1.5-flash")
chat = model.start_chat(history=[])

# ×”×•×“×¢×” ×¨××©×•× ×”
response = chat.send_message("××” ×–×” Python?")
print(response.text)

# ×”×•×“×¢×” ×©× ×™×™×” (×¢× ×”×§×©×¨)
response = chat.send_message("×ª×Ÿ ×œ×™ ×“×•×’××”")
print(response.text)
```

JavaScript:
```javascript
const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
const chat = model.startChat({ history: [] });

// ×”×•×“×¢×” ×¨××©×•× ×”
const result1 = await chat.sendMessage("××” ×–×” Python?");
console.log(result1.response.text());

// ×”×•×“×¢×” ×©× ×™×™×”
const result2 = await chat.sendMessage("×ª×Ÿ ×œ×™ ×“×•×’××”");
console.log(result2.response.text());
```

×˜×™×¤×•×œ ×‘×©×’×™××•×ª
===============

Python:
```python
def safe_generate(model, prompt):
    try:
        response = model.generate_content(prompt)
        return {"success": True, "text": response.text}
    except Exception as e:
        return {"success": False, "error": str(e)}

# ×©×™××•×©
result = safe_generate(model, "×˜×§×¡×˜")
if result["success"]:
    print(result["text"])
else:
    print(f"×©×’×™××”: {result['error']}")
```

JavaScript:
```javascript
async function safeGenerate(model, prompt) {
    try {
        const result = await model.generateContent(prompt);
        return { success: true, text: result.response.text() };
    } catch (error) {
        return { success: false, error: error.message };
    }
}

// ×©×™××•×©
const result = await safeGenerate(model, "×˜×§×¡×˜");
if (result.success) {
    console.log(result.text);
} else {
    console.log(`×©×’×™××”: ${result.error}`);
}
```

Rate Limiting
==============

Python:
```python
import time

class RateLimitedModel:
    def __init__(self, model, max_requests_per_minute=60):
        self.model = model
        self.max_requests = max_requests_per_minute
        self.requests = []
    
    def generate_content(self, prompt):
        # ×‘×“×•×§ rate limit
        now = time.time()
        self.requests = [r for r in self.requests if now - r < 60]
        
        if len(self.requests) >= self.max_requests:
            sleep_time = 60 - (now - self.requests[0])
            time.sleep(sleep_time)
        
        self.requests.append(time.time())
        return self.model.generate_content(prompt)

# ×©×™××•×©
limited_model = RateLimitedModel(model, max_requests_per_minute=60)
response = limited_model.generate_content("×˜×§×¡×˜")
```

Retry Logic
===========

Python:
```python
import time

def generate_with_retry(model, prompt, max_retries=3):
    for attempt in range(max_retries):
        try:
            response = model.generate_content(prompt)
            return response.text
        except Exception as e:
            if attempt < max_retries - 1:
                time.sleep(2 ** attempt)  # Exponential backoff
                continue
            raise

# ×©×™××•×©
try:
    text = generate_with_retry(model, "×˜×§×¡×˜")
    print(text)
except Exception as e:
    print(f"× ×›×©×œ ××—×¨×™ {max_retries} × ×™×¡×™×•× ×•×ª: {e}")
```

Best Practices
==============

1. ××‘×˜×—×”
---------
â€¢ ××œ ×ª×—×©×•×£ API Keys
â€¢ ×”×©×ª××© ×‘-environment variables
â€¢ ×¨×•×˜×¦×™×” ×©×œ ××¤×ª×—×•×ª
â€¢ Monitor ×©×™××•×©

2. ×‘×™×¦×•×¢×™×
-----------
â€¢ ×”×©×ª××© ×‘-caching
â€¢ Batch requests ×›×©××¤×©×¨
â€¢ Rate limiting
â€¢ Retry logic

3. ×˜×™×¤×•×œ ×‘×©×’×™××•×ª
------------------
â€¢ ×ª××™×“ handle exceptions
â€¢ ×œ×•×’ errors
â€¢ Fallback strategies
â€¢ User-friendly messages

4. × ×™×˜×•×¨
---------
â€¢ Track usage
â€¢ Monitor costs
â€¢ Alert ×¢×œ ×‘×¢×™×•×ª
â€¢ Analyze patterns

×¡×™×›×•×
======

Gemini API ×××¤×©×¨:
âœ“ ×’×™×©×” ××ª×•×›× ×”
âœ“ ××™× ×˜×’×¨×¦×™×” ×§×œ×”
âœ“ ×©×œ×™×˜×” ××œ××”
âœ“ ×¢×‘×•×“×” ×¢× ×ª××•× ×•×ª
âœ“ JSON Mode
âœ“ Chat
âœ“ Configuration

Best Practices:
â€¢ ××‘×˜×—×”
â€¢ ×‘×™×¦×•×¢×™×
â€¢ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª
â€¢ × ×™×˜×•×¨

×‘×©×™×¢×•×¨ ×”×‘×: ×—×™×‘×•×¨ ×œ-Vertex AI! ğŸš€

---
Â© 2026 Google AI Academy
××“×¨×™×š API ××œ× - Gemini API