CRUD Operations ×‘-Firestore
============================

×©×™×¢×•×¨ 9: CRUD Operations
=========================

××‘×•×
====

××“×¨×™×š ××§×™×£ ×œ-CRUD Operations ×‘-Firestore.

Create - ×™×¦×™×¨×”
===============

```jsx
import { collection, addDoc } from 'firebase/firestore';

const createUser = async (name, email) => {
  const docRef = await addDoc(collection(db, 'users'), {
    name,
    email,
    createdAt: new Date()
  });
  return docRef.id;
};
```

Read - ×§×¨×™××”
============

×›×œ ×”××¡××›×™×:
------------

```jsx
import { collection, getDocs } from 'firebase/firestore';

const getAllUsers = async () => {
  const snapshot = await getDocs(collection(db, 'users'));
  return snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  }));
};
```

××¡××š ××—×“:
---------

```jsx
import { doc, getDoc } from 'firebase/firestore';

const getUser = async (userId) => {
  const docRef = doc(db, 'users', userId);
  const docSnap = await getDoc(docRef);
  
  if (docSnap.exists()) {
    return { id: docSnap.id, ...docSnap.data() };
  } else {
    return null;
  }
};
```

×¢× Query:
----------

```jsx
import { collection, query, where, getDocs } from 'firebase/firestore';

const getUsersByEmail = async (email) => {
  const q = query(
    collection(db, 'users'),
    where('email', '==', email)
  );
  const snapshot = await getDocs(q);
  return snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  }));
};
```

Update - ×¢×“×›×•×Ÿ
===============

```jsx
import { doc, updateDoc } from 'firebase/firestore';

const updateUser = async (userId, updates) => {
  const userRef = doc(db, 'users', userId);
  await updateDoc(userRef, updates);
};

// ×©×™××•×©:
updateUser('123', { name: 'Jane', age: 25 });
```

Delete - ××—×™×§×”
===============

```jsx
import { doc, deleteDoc } from 'firebase/firestore';

const deleteUser = async (userId) => {
  await deleteDoc(doc(db, 'users', userId));
};
```

×“×•×’××” ××œ××”
===========

```jsx
import { useState, useEffect } from 'react';
import {
  collection,
  addDoc,
  getDocs,
  updateDoc,
  deleteDoc,
  doc,
  onSnapshot
} from 'firebase/firestore';
import { db } from './firebase';

function UsersList() {
  const [users, setUsers] = useState([]);
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');

  // Real-time updates
  useEffect(() => {
    const unsubscribe = onSnapshot(
      collection(db, 'users'),
      (snapshot) => {
        setUsers(snapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        })));
      }
    );
    return unsubscribe;
  }, []);

  // Create
  const handleCreate = async () => {
    await addDoc(collection(db, 'users'), { name, email });
    setName('');
    setEmail('');
  };

  // Update
  const handleUpdate = async (userId, updates) => {
    await updateDoc(doc(db, 'users', userId), updates);
  };

  // Delete
  const handleDelete = async (userId) => {
    await deleteDoc(doc(db, 'users', userId));
  };

  return (
    <div>
      <input
        value={name}
        onChange={(e) => setName(e.target.value)}
        placeholder="Name"
      />
      <input
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
      />
      <button onClick={handleCreate}>Add User</button>

      <ul>
        {users.map(user => (
          <li key={user.id}>
            {user.name} - {user.email}
            <button onClick={() => handleUpdate(user.id, { name: 'Updated' })}>
              Update
            </button>
            <button onClick={() => handleDelete(user.id)}>Delete</button>
          </li>
        ))}
      </ul>
    </div>
  );
}
```

×¡×™×›×•×
======

CRUD Operations:
âœ“ Create - ×™×¦×™×¨×”
âœ“ Read - ×§×¨×™××”
âœ“ Update - ×¢×“×›×•×Ÿ
âœ“ Delete - ××—×™×§×”

×‘×©×™×¢×•×¨ ×”×‘× × ×œ××“:
â†’ Testing ×‘-IDX
â†’ ×›×ª×™×‘×ª ×‘×“×™×§×•×ª

××•×›× ×™× ×œ×”××©×™×š? ğŸš€

---
Â© 2026 Google AI Academy
CRUD Operations
×’×¨×¡×” 1.0
